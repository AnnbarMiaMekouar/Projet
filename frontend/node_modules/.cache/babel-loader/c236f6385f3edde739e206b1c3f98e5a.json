{"ast":null,"code":"import _slicedToArray from \"/Users/annbarmekouar/Desktop/projet_dashboard-main2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/annbarmekouar/Desktop/projet_dashboard-main2/frontend/src/widgets/products.js\";\nimport React, { useEffect, useState } from \"react\";\nimport request from \"../request\";\nimport Product from \"./product\";\n\nconst Products = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        loading = _useState4[0],\n        setLoading = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        loading2 = _useState6[0],\n        setLoading2 = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        categories = _useState8[0],\n        setCategories = _useState8[1]; //\n\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        name = _useState10[0],\n        setName = _useState10[1];\n\n  const _useState11 = useState(\"\"),\n        _useState12 = _slicedToArray(_useState11, 2),\n        price = _useState12[0],\n        setPrice = _useState12[1];\n\n  const _useState13 = useState(\"\"),\n        _useState14 = _slicedToArray(_useState13, 2),\n        quantity = _useState14[0],\n        setQuantity = _useState14[1];\n\n  const _useState15 = useState(\"default.jpg\"),\n        _useState16 = _slicedToArray(_useState15, 2),\n        url_pict = _useState16[0],\n        setUrl = _useState16[1];\n\n  const _useState17 = useState(\"placeholder\"),\n        _useState18 = _slicedToArray(_useState17, 2),\n        cat_id = _useState18[0],\n        setCatId = _useState18[1];\n\n  useEffect(() => {\n    request.get(\"categories\").then(({\n      data\n    }) => {\n      if (data.success) {\n        setCategories(data.data.categories);\n        request.get(\"/\").then(({\n          data\n        }) => {\n          if (data.success) {\n            setLoading(false);\n            setData(data.data.products);\n          }\n        });\n      }\n    });\n  }, []);\n\n  const onAddButtonHandle = e => {\n    setLoading2(true);\n    request.post(\"/\", {\n      name: name,\n      price: price,\n      quantity: quantity,\n      category_id: cat_id,\n      url_pict: url_pict\n    }).then(({\n      data\n    }) => {\n      if (data.success) {\n        window.location.reload();\n      }\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"my-2 btn-group\",\n    role: \"group\",\n    \"aria-label\": \"Basic outlined example\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-success\",\n    \"data-bs-toggle\": \"modal\",\n    \"data-bs-target\": \"#productModal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Ajouter un produit\")), React.createElement(\"div\", {\n    className: \"modal fade\",\n    id: \"productModal\",\n    tabIndex: \"-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-dialog modal-dialog-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"modal-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Ajouter un produit\"), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn-close\",\n    \"data-bs-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"modal-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"row g-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Nom du produit\",\n    value: name,\n    onChange: e => {\n      setName(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    placeholder: \"Quantit\\xE9\",\n    min: \"0\",\n    value: quantity,\n    onChange: e => {\n      setQuantity(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    placeholder: \"Prix en \\u20AC\",\n    min: \"0\",\n    value: price,\n    onChange: e => {\n      setPrice(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    value: cat_id,\n    onChange: e => {\n      setCatId(e.target.value);\n    },\n    className: \"form-select\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"placeholder\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Cat\\xE9gorie...\"), categories.map(({\n    _id,\n    name\n  }, ind) => {\n    return React.createElement(\"option\", {\n      value: _id,\n      key: \"ind\".concat(ind),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, name);\n  }))), React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Url de la photo\",\n    value: url_pict,\n    onChange: e => {\n      setUrl(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-danger\",\n    \"data-bs-dismiss\": \"modal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"Annuler\"), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-success\",\n    onClick: onAddButtonHandle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, loading2 && React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, \"En cours...\"), !loading2 && React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"Ajouter\")))))), React.createElement(\"div\", {\n    className: \"mt-3 row justify-content-evenly align-items-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, !loading && data.map((prod, i) => React.createElement(Product, {\n    key: prod._id,\n    name: prod.name,\n    price: prod.price,\n    quantity: prod.quantity,\n    id: prod._id,\n    url: prod.url_pict,\n    cat_id: prod.category_id,\n    categories: categories,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  })), loading && React.createElement(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"spinner-border text-dark\",\n    role: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  })))));\n};\n\nexport default Products;","map":{"version":3,"sources":["/Users/annbarmekouar/Desktop/projet_dashboard-main2/frontend/src/widgets/products.js"],"names":["React","useEffect","useState","request","Product","Products","data","setData","loading","setLoading","loading2","setLoading2","categories","setCategories","name","setName","price","setPrice","quantity","setQuantity","url_pict","setUrl","cat_id","setCatId","get","then","success","products","onAddButtonHandle","e","post","category_id","window","location","reload","target","value","map","_id","ind","prod","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport request from \"../request\";\nimport Product from \"./product\";\nconst Products = () => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [loading2, setLoading2] = useState(false);\n  const [categories, setCategories] = useState([]);\n  //\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [quantity, setQuantity] = useState(\"\");\n  const [url_pict, setUrl] = useState(\"default.jpg\");\n  const [cat_id, setCatId] = useState(\"placeholder\");\n  useEffect(() => {\n    request.get(\"categories\").then(({ data }) => {\n      if (data.success) {\n        setCategories(data.data.categories);\n        request.get(\"/\").then(({ data }) => {\n          if (data.success) {\n            setLoading(false);\n            setData(data.data.products);\n          }\n        });\n      }\n    });\n  }, []);\n\n  const onAddButtonHandle = (e) => {\n    setLoading2(true);\n    request\n      .post(\"/\", {\n        name: name,\n        price: price,\n        quantity: quantity,\n        category_id: cat_id,\n        url_pict: url_pict,\n      })\n      .then(({ data }) => {\n        if (data.success) {\n          window.location.reload();\n        }\n      });\n  };\n\n  return (\n    <>\n      <div\n        className=\"my-2 btn-group\"\n        role=\"group\"\n        aria-label=\"Basic outlined example\"\n      >\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-success\"\n          data-bs-toggle=\"modal\"\n          data-bs-target=\"#productModal\"\n        >\n          Ajouter un produit\n        </button>\n      </div>\n      <div className=\"modal fade\" id=\"productModal\" tabIndex=\"-1\">\n        <div className=\"modal-dialog modal-dialog-centered\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">Ajouter un produit</h5>\n              <button\n                type=\"button\"\n                className=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              ></button>\n            </div>\n            <div className=\"modal-body\">\n              <form className=\"row g-3\">\n                <div className=\"col-md-12\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Nom du produit\"\n                    value={name}\n                    onChange={(e) => {\n                      setName(e.target.value);\n                    }}\n                  />\n                </div>\n                <div className=\"col-md-6\">\n                  <input\n                    type=\"number\"\n                    className=\"form-control\"\n                    placeholder=\"Quantité\"\n                    min=\"0\"\n                    value={quantity}\n                    onChange={(e) => {\n                      setQuantity(e.target.value);\n                    }}\n                  />\n                </div>\n                <div className=\"col-md-6\">\n                  <input\n                    type=\"number\"\n                    className=\"form-control\"\n                    placeholder=\"Prix en €\"\n                    min=\"0\"\n                    value={price}\n                    onChange={(e) => {\n                      setPrice(e.target.value);\n                    }}\n                  />\n                </div>\n                <div className=\"col-md-12\">\n                  <select\n                    value={cat_id}\n                    onChange={(e) => {\n                      setCatId(e.target.value);\n                    }}\n                    className=\"form-select\"\n                  >\n                    <option value=\"placeholder\">Catégorie...</option>\n                    {categories.map(({ _id, name }, ind) => {\n                      return (\n                        <option value={_id} key={`ind${ind}`}>\n                          {name}\n                        </option>\n                      );\n                    })}\n                  </select>\n                </div>\n                <div className=\"col-md-12\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Url de la photo\"\n                    value={url_pict}\n                    onChange={(e) => {\n                      setUrl(e.target.value);\n                    }}\n                  />\n                </div>\n              </form>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-danger\"\n                data-bs-dismiss=\"modal\"\n              >\n                Annuler\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={onAddButtonHandle}\n              >\n                {loading2 && <span>En cours...</span>}\n                {!loading2 && <span>Ajouter</span>}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"mt-3 row justify-content-evenly align-items-center\">\n        {!loading &&\n          data.map((prod, i) => (\n            <Product\n              key={prod._id}\n              name={prod.name}\n              price={prod.price}\n              quantity={prod.quantity}\n              id={prod._id}\n              url={prod.url_pict}\n              cat_id={prod.category_id}\n              categories={categories}\n            />\n          ))}\n        {loading && (\n          <div className=\"text-center\">\n            <div className=\"spinner-border text-dark\" role=\"status\">\n              <span className=\"sr-only\"></span>\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}